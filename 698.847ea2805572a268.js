"use strict";(self.webpackChunkspotify_clone=self.webpackChunkspotify_clone||[]).push([[698],{3698:(w,d,r)=>{r.r(d),r.d(d,{HomeModule:()=>T});var s=r(9808),u=r(4996),t=r(5e3),m=r(1682),p=r(1843),f=r(6874),y=r(3322),g=r(7093),v=r(8525);function h(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"div",8),t.NdJ("mouseenter",function(l){t.CHM(e);const a=t.oxw().index;return t.oxw().getItemBackgroundColor(a,l)})("mouseleave",function(l){t.CHM(e);const a=t.oxw().index;return t.oxw().getItemBackgroundColor(a,l)}),t.TgZ(1,"div",9),t.TgZ(2,"div",10),t._UZ(3,"img",11),t.qZA(),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.qZA(),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.MGl("routerLink","/playlist/",e.id,""),t.xp6(3),t.Q6J("src",null==e||null==e.images[0]?null:e.images[0].url,t.LSH),t.xp6(2),t.Oqu(null==e?null:e.name)}}function C(o,i){if(1&o&&(t.ynx(0),t.YNc(1,h,6,3,"div",7),t.BQk()),2&o){const e=i.index;t.xp6(1),t.Q6J("ngIf",e<8)}}function x(o,i){if(1&o&&(t._UZ(0,"spotify-music-card",12),t.ALo(1,"titlecase")),2&o){const e=i.$implicit;t.MGl("cardLink","/playlist/",e.id,""),t.Q6J("imageSource",null==e.images[0]?null:e.images[0].url)("cardTitle",e.name)("cardSubtitle",t.lcZ(1,4,e.description))}}function _(o,i){if(1&o&&(t._UZ(0,"spotify-music-card",13),t.ALo(1,"titlecase")),2&o){const e=i.$implicit;t.MGl("cardLink","/genre/",e.id,""),t.Q6J("imageSource",null==e.icons[0]?null:e.icons[0].url)("cardTitle",e.name)("cardSubtitle",t.lcZ(1,5,e.description))("showPlayButton",!1)}}const P=function(o){return{"background-color":o}},b=[{path:"",component:(()=>{class o{constructor(e,n){this.browseService=e,this.colors=n,this.backgroundColor="#1db954"}ngOnInit(){this.getFeaturedPlaylists(),this.getCategories()}getGreetingMessage(){const n=(new Date).getHours();return n<12?"Good Morning":n<18?"Good Afternoon":"Good Evening"}getFeaturedPlaylists(){this.browseService.getAllFeaturedPlaylists().subscribe(e=>{this.featuredPlaylists=e,this.featuredPlaylists.playlists.items.forEach((n,l)=>{var a;this.getAlbumColors(null===(a=null==n?void 0:n.images[0])||void 0===a?void 0:a.url,l)})})}getCategories(){this.browseService.getAllCategories().subscribe(e=>{this.categories=e})}getAlbumColors(e,n){this.colors.getAlbumColors(e).subscribe(l=>{const a=l.filter(c=>this.getBrighterColor(c));console.log(a),this.featuredPlaylists.playlists.items[n].colors=a})}getItemBackgroundColor(e,n){this.backgroundColor="mouseenter"===n.type?this.featuredPlaylists.playlists.items[e].colors[0]:this.featuredPlaylists.playlists.items[0].colors[0]}getBrighterColor(e){var n=e.substring(1),l=parseInt(n,16);return.2126*(l>>16&255)+.7152*(l>>8&255)+.0722*(l>>0&255)>140}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.I),t.Y36(p.x))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-home"]],decls:16,vars:7,consts:[[1,"background-section",3,"ngStyle"],[1,"page-container"],[1,"card-grid-container"],[4,"ngFor","ngForOf"],[1,"cards-container"],["imageShape","square",3,"cardLink","imageSource","cardTitle","cardSubtitle",4,"ngFor","ngForOf"],["imageShape","square",3,"imageSource","cardLink","cardTitle","cardSubtitle","showPlayButton",4,"ngFor","ngForOf"],["class","title-card","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","16px",3,"routerLink","mouseenter","mouseleave",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","16px",1,"title-card",3,"routerLink","mouseenter","mouseleave"],[1,"image-container"],[1,"image"],[3,"src"],["imageShape","square",3,"cardLink","imageSource","cardTitle","cardSubtitle"],["imageShape","square",3,"imageSource","cardLink","cardTitle","cardSubtitle","showPlayButton"]],template:function(e,n){1&e&&(t._UZ(0,"spotify-topbar"),t._UZ(1,"div",0),t.TgZ(2,"div",1),t.TgZ(3,"h1"),t._uU(4),t.qZA(),t.TgZ(5,"section"),t.TgZ(6,"div",2),t.YNc(7,C,2,1,"ng-container",3),t.qZA(),t.qZA(),t.TgZ(8,"h2"),t._uU(9,"Featured Playlists"),t.qZA(),t.TgZ(10,"div",4),t.YNc(11,x,2,6,"spotify-music-card",5),t.qZA(),t.TgZ(12,"h2"),t._uU(13,"Categories"),t.qZA(),t.TgZ(14,"div",4),t.YNc(15,_,2,7,"spotify-music-card",6),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngStyle",t.VKq(5,P,n.backgroundColor)),t.xp6(3),t.Oqu(n.getGreetingMessage()),t.xp6(3),t.Q6J("ngForOf",null==n.featuredPlaylists?null:n.featuredPlaylists.playlists.items),t.xp6(4),t.Q6J("ngForOf",null==n.featuredPlaylists?null:n.featuredPlaylists.playlists.items),t.xp6(4),t.Q6J("ngForOf",null==n.categories?null:n.categories.items))},directives:[f.o,s.PC,y.Zl,s.sg,s.O5,g.xw,g.Wh,g.SQ,u.rH,v.x],pipes:[s.rS],styles:[".card-grid-container[_ngcontent-%COMP%]{grid-gap:24px;display:grid;grid-template-columns:repeat(auto-fill,minmax(270px,1fr));grid-auto-rows:auto;grid-template-rows:1fr;overflow-y:hidden;grid-row-gap:16px;row-gap:16px;margin-bottom:16px}.card-grid-container[_ngcontent-%COMP%]   [ng-reflect-router-link][_ngcontent-%COMP%]{cursor:pointer}.card-grid-container[_ngcontent-%COMP%]   .title-card[_ngcontent-%COMP%]{background-color:#ffffff1a;border-radius:4px;height:80px;position:relative;transition:background-color .3s ease}.card-grid-container[_ngcontent-%COMP%]   .title-card[_ngcontent-%COMP%]   div.image-container[_ngcontent-%COMP%]{min-height:80px;min-width:80px}.card-grid-container[_ngcontent-%COMP%]   .title-card[_ngcontent-%COMP%]   div.image-container[_ngcontent-%COMP%]   div.image[_ngcontent-%COMP%]{background-color:#fff3;border-radius:4px;box-shadow:0 8px 24px #00000080;padding-bottom:100%;position:relative;width:100%}.card-grid-container[_ngcontent-%COMP%]   .title-card[_ngcontent-%COMP%]   div.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;height:100%;left:0;position:absolute;top:0;width:100%}"]}),o})()}];let Z=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[u.Bz.forChild(b)],u.Bz]}),o})();var M=r(4130),O=r(3555),S=r(2155);let T=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[s.ez,Z,M.z,O.U,S.o9]]}),o})()}}]);