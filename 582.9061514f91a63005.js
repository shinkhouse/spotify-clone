"use strict";(self.webpackChunkspotify_clone=self.webpackChunkspotify_clone||[]).push([[582],{4582:(C,n,c)=>{c.r(n),c.d(n,{SearchModule:()=>b});var r=c(9808),o=c(4996),t=c(5e3),l=c(520),u=c(2340);let m=(()=>{class s{constructor(e){this.http=e}search(e,i={limit:50}){const R=new l.LE({fromObject:i}).set("q",e).set("type","track,artist,album,playlist,show,episode");return this.http.get(`${u.X.baseAPIUrl}/search`,{params:R})}}return s.\u0275fac=function(e){return new(e||s)(t.LFG(l.eN))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var d=c(6874),p=c(8525);function h(s,a){if(1&s&&(t._UZ(0,"spotify-music-card",5),t.ALo(1,"titlecase")),2&s){const e=a.$implicit;t.MGl("cardLink","/artist/",e.id,""),t.Q6J("imageSource",null==e.images[0]?null:e.images[0].url)("cardTitle",e.name)("cardSubtitle",t.lcZ(1,4,e.type))}}function g(s,a){if(1&s&&t._UZ(0,"spotify-music-card",6),2&s){const e=a.$implicit;t.MGl("cardLink","/album/",e.id,""),t.Q6J("imageSource",null==e.images[0]?null:e.images[0].url)("cardTitle",e.name)("cardSubtitle",e.artists[0].name)}}function f(s,a){if(1&s&&t._UZ(0,"spotify-music-card",6),2&s){const e=a.$implicit,i=t.oxw(2);t.MGl("cardLink","/playlist/",e.id,""),t.Q6J("imageSource",e.images[0].url)("cardTitle",e.name)("cardSubtitle",i.getCardSubtitle(e.owner.display_name))}}function S(s,a){if(1&s&&t._UZ(0,"spotify-music-card",6),2&s){const e=a.$implicit;t.MGl("cardLink","/podcast/",e.id,""),t.Q6J("imageSource",e.images[0].url)("cardTitle",e.name)("cardSubtitle",e.name)}}function y(s,a){if(1&s&&(t.TgZ(0,"div"),t.TgZ(1,"h2"),t._uU(2,"Artists"),t.qZA(),t.TgZ(3,"div",2),t.YNc(4,h,2,6,"spotify-music-card",3),t.qZA(),t.TgZ(5,"h2"),t._uU(6,"Albums"),t.qZA(),t.TgZ(7,"div",2),t.YNc(8,g,1,4,"spotify-music-card",4),t.qZA(),t.TgZ(9,"h2"),t._uU(10,"Playlists"),t.qZA(),t.TgZ(11,"div",2),t.YNc(12,f,1,4,"spotify-music-card",4),t.qZA(),t.TgZ(13,"h2"),t._uU(14,"Podcasts"),t.qZA(),t.TgZ(15,"div",2),t.YNc(16,S,1,4,"spotify-music-card",4),t.qZA(),t.qZA()),2&s){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",null==e.searchResults.artists?null:e.searchResults.artists.items),t.xp6(4),t.Q6J("ngForOf",null==e.searchResults.albums?null:e.searchResults.albums.items),t.xp6(4),t.Q6J("ngForOf",null==e.searchResults.playlists?null:e.searchResults.playlists.items),t.xp6(4),t.Q6J("ngForOf",null==e.searchResults.shows?null:e.searchResults.shows.items)}}const v=[{path:"",component:(()=>{class s{constructor(e,i){this.route=e,this.search=i,this.searchResults=null}ngOnInit(){this.route.queryParams.subscribe(e=>{console.log(e),this.queryParams=e,this.queryParams.searchQuery&&this.getSearchResults(this.queryParams.searchQuery)})}getSearchResults(e){this.search.search(e).subscribe(i=>{this.searchResults=i,console.log(i)})}getCardSubtitle(e){return`By ${e}`}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(o.gz),t.Y36(m))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-search"]],decls:3,vars:1,consts:[[1,"page-container"],[4,"ngIf"],[1,"cards-container"],["imageShape","round",3,"cardLink","imageSource","cardTitle","cardSubtitle",4,"ngFor","ngForOf"],["imageShape","square",3,"cardLink","imageSource","cardTitle","cardSubtitle",4,"ngFor","ngForOf"],["imageShape","round",3,"cardLink","imageSource","cardTitle","cardSubtitle"],["imageShape","square",3,"cardLink","imageSource","cardTitle","cardSubtitle"]],template:function(e,i){1&e&&(t._UZ(0,"spotify-topbar"),t.TgZ(1,"div",0),t.YNc(2,y,17,4,"div",1),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngIf",i.searchResults))},directives:[d.o,r.O5,r.sg,p.x],pipes:[r.rS],styles:[""]}),s})()}];let Z=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[o.Bz.forChild(v)],o.Bz]}),s})();var T=c(4130),A=c(3555);let b=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[r.ez,Z,T.z,A.U]]}),s})()}}]);